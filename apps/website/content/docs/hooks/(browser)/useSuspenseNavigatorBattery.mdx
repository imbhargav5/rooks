---
id: useSuspenseNavigatorBattery
title: useSuspenseNavigatorBattery
sidebar_label: useSuspenseNavigatorBattery
---

## About

Suspense-enabled hook for getting battery information from Navigator Battery API. This hook will suspend while the Battery API is fetching information and should be wrapped in a Suspense boundary.

## ‚ö†Ô∏è Critical Browser Support Warning

**This API has extremely limited browser support and is largely deprecated:**

- **Firefox**: Completely removed in v52+ (2017) due to **privacy concerns**
- **Safari**: Never implemented - **no support at all**
- **Chrome/Edge**: Still supported but **requires HTTPS** (secure context) since Chrome 103
- **Mobile**: Very limited support

**Consider using alternative approaches** for battery-related features, as this API may not work for most of your users.

## Return Value

Returns a battery manager object with the following properties:

- `charging: boolean` - Whether the battery is currently charging
- `chargingTime: number` - Time in seconds until the battery is fully charged (or `Infinity`)
- `dischargingTime: number` - Time in seconds until the battery is completely discharged
- `level: number` - Battery charge level as a decimal between 0.0 and 1.0

## Usage

```tsx
import React, { Suspense } from 'react';
import { useSuspenseNavigatorBattery } from 'rooks';

function BatteryInfo() {
  // ‚ö†Ô∏è This will throw an error in most browsers
  const battery = useSuspenseNavigatorBattery();
  
  return (
    <div>
      <h3>Battery Status</h3>
      <p>Charging: {battery.charging ? '‚ö° Yes' : 'üîå No'}</p>
      <p>Level: {Math.round(battery.level * 100)}%</p>
      <p>
        {battery.charging 
          ? `Time to full charge: ${battery.chargingTime === Infinity ? 'Unknown' : `${battery.chargingTime}s`}`
          : `Time remaining: ${battery.dischargingTime === Infinity ? 'Unknown' : `${battery.dischargingTime}s`}`
        }
      </p>
    </div>
  );
}

function App() {
  return (
    <Suspense fallback={<div>Loading battery info...</div>}>
      <BatteryInfo />
    </Suspense>
  );
}
```

## Error Handling

Since this API is not supported in most browsers, you should wrap it in an error boundary:

```tsx
import React, { Suspense } from 'react';
import { ErrorBoundary } from 'react-error-boundary';
import { useSuspenseNavigatorBattery } from 'rooks';

function BatteryDisplay() {
  const battery = useSuspenseNavigatorBattery();
  return <div>Battery level: {Math.round(battery.level * 100)}%</div>;
}

function BatteryError({ error }) {
  return (
    <div>
      <h3>Battery API Not Supported</h3>
      <p>This browser doesn't support the Battery API.</p>
      <details>
        <summary>Error details</summary>
        <pre>{error.message}</pre>
      </details>
    </div>
  );
}

function App() {
  return (
    <ErrorBoundary FallbackComponent={BatteryError}>
      <Suspense fallback={<div>Loading...</div>}>
        <BatteryDisplay />
      </Suspense>
    </ErrorBoundary>
  );
}
```

## Requirements

- **HTTPS required** (secure context) in Chrome/Edge
- **Very limited browser support** - test thoroughly
- Consider feature detection before using

## Alternative Approaches

Since this API has poor browser support, consider these alternatives:

1. **Feature detection with graceful degradation**
2. **Server-side device detection** 
3. **User-controlled settings** for battery-conscious features
4. **CSS media queries** like `prefers-reduced-motion` for performance hints

## Browser Compatibility

| Browser | Support | Notes |
|---------|---------|-------|
| Chrome | 38+ (HTTPS only since 103) | Requires secure context |
| Firefox | ‚ùå Removed in v52+ | Removed due to privacy concerns |
| Safari | ‚ùå Never supported | No implementation |
| Edge | 79+ (HTTPS only since 103) | Requires secure context |

## See Also

- [MDN: Battery Status API](https://developer.mozilla.org/en-US/docs/Web/API/Battery_Status_API)
- [Can I Use: Battery Status API](https://caniuse.com/battery-status)
